(()=>{var t={885:()=>{}},e={};function i(o){if(e[o])return e[o].exports;var h=e[o]={exports:{}};return t[o](h,h.exports,i),h.exports}(()=>{"use strict";const t=document.querySelector("#tennis"),e=t.getContext("2d"),o=document.querySelector(".game_container");let h=o.offsetWidth,n=o.offsetHeight;t.width=h,t.height=n;let s=t.width,c=t.height;var l=i(885);const r={x:s/2,y:c/2,radius:10,color:"red",speed:7,xDirection:Math.random()<.5?1:-1,yDirection:Math.random()<.5?1:-1,velocityX:7,velocityY:7,setSpeed:function(t){this.speed=t},setBallDirectionToRandom:function(){this.velocityX*=this.xDirection,this.velocityY*=this.yDirection},resetBallXPosition:function(){this.x=s/2},resetBallYPosition:function(){this.y=c/2},changeBallXDirection:function(){this.velocityX=-this.velocityX},makeBallRandomSpeed:function(t,e){this.speed=(0,l.getRandomIntInclusive)(t,e)},angleChangeFromHit:function(t,e){this.velocityX=this.speed*Math.cos(t)*e,this.velocityY=this.speed*Math.sin(t)},speedAddAfterHit:function(t){this.speed+=t},Move:function(){this.x+=this.velocityX,this.y+=this.velocityY,(this.y-this.radius<0||this.y+this.radius>c)&&(this.velocityY=-this.velocityY)}},d={height:100,x:0,y:c/2-50,width:10,color:"white",score:0,setScore:function(t){this.score=t},addScore:function(t){this.score=+t},mouseMove:function(e){let i=t.getBoundingClientRect();this.y=e.clientY-i.top-this.height/2},keyMove:function(){this.y<0?this.y=0:this.y+this.height>c?this.y=c-this.height:(D&&(this.y-=20),R&&(this.y+=20))}},a={height:100,x:s-10,y:c/2-50,width:10,color:"white",score:0,setScore:function(t){t=t},addScore:function(t){this.score=+t},keyMove:function(){this.y<0?this.y=0:this.y+this.height>c?this.y=c-this.height:(W&&(this.y-=20),H&&(this.y+=20))}},u={height:100,x:s-10,y:c/2-50,width:10,color:"white",score:0,computerLevel:.05,setComputerLevel:function(t){this.computerLevel=t},setScore:function(t){this.score=t},addScore:function(t){this.score=+t},move:function(){this.y<0?this.y=0:this.y+this.height>c?this.y=c-this.height:this.y+=(r.y-(this.y+this.height/2))*this.computerLevel}},y=new Audio("./tennis/sounds/hit.mp3"),f=new Audio("./tennis/sounds/tennisMusic.mp3");let g="Off";f.volume=.1;let w=!0,p="Off";function m(t,e){return e.top=e.y,e.bottom=e.y+e.height,e.left=e.x,e.right=e.x+e.width,t.top=t.y-t.radius,t.bottom=t.y+t.radius,t.left=t.x-t.radius,t.right=t.x+t.radius,t.right>e.left&&t.top<e.bottom&&t.left<e.right&&t.bottom>e.top}function v(){r.ballresetBallXPosition(),r.resetBallYPosition(),r.changeBallXDirection(),r.makeBallRandomSpeed(6,8)}function x(){u.setScore(0),d.setScore(0),r.setSpeed(7),lvlChange()}r.setBallDirectionToRandom();let M=!1,S=!1,P=!1,k=!1,L=!1,A=!0,B=!1,b=!1,X=!0,C=!1,O=!1,Y=!1,D=!1,R=!1,W=!1,H=!1,T=!1,E=!1;const F=()=>O=!1,I=()=>Y=!1;function K(t,e,i,o,h,n){t.code===e&&(D=n),t.code===i&&(R=n),t.code===o&&(W=n),t.code===h&&(H=n)}function q(t,e,i,o,h,n,l){return t.offsetX>=s/e*o&&t.offsetX<=s/e*h&&t.offsetY>=c/i*n&&t.offsetY<=c/i*l}function N(t){O&&d.mouseMove(t)}function _(t){Y&&K(t,"KeyW","KeyS","Numpad8","Numpad2",!0)}function G(t){Y&&K(t,"KeyW","KeyS","Numpad8","Numpad2",!1)}function j(t){"KeyP"===t.code&&(C=!C)}function z(t){X&&(q(t,10,12,4,6,3,4)&&(O=!0,X=!1),q(t,10,12,4,6,4,5)&&(Y=!0,X=!1,console.log("menuClick -> localTwoPlayers",Y)),q(t,10,12,4,6,6.5,7)&&(X=!1,T=!0)),gameOver&&q(t,10,12,3.8,6,5,6)&&(X=!0,P=!1,B=!1,b=!1,M=!1,S=!1,k=!1,L=!1),T&&(q(t,10,12,3.8,6,5.5,6.5)&&(X=!0,T=!1),q(t,10,12,3.8,6,3,4.2)&&(console.log("music"),E?(E=!1,console.log("menuClick -> musicTurnOn",E)):(E=!0,console.log("menuClick -> musicTurnOn",E))),q(t,10,12,3.8,6,4.2,5)&&(console.log("sounds"),w=!w)),C&&q(t,10,12,3.8,8,6,7)&&(X=!0,C=!1,O=!1,Y=!1)}function J(t,i,o,h,n){e.beginPath(),e.fillStyle=n,e.fillRect(t,i,o,h),e.fill(),e.closePath()}function Q(t,i,o,h){e.beginPath(),e.arc(t,i,o,0,2*Math.PI,!0),e.fillStyle=h,e.fill(),e.closePath()}function U(t,i,o,h){e.fillStyle=h,e.fillText(t,i,o)}window.onload=function(){requestAnimationFrame((function i(){(function(){if(O){if(C)return;!function(){r.Move(),u.move();let t=r.x<s/2?d:u;if(m(r,t)){y.play();let e=(r.y-(t.y+t.height/2))/(t.height/2)*Math.PI/4,i=r.x<s/2?1:-1;angleChangeFromHit(e,i),r.speedAddAfterHit(.4)}r.x-r.radius<0?(u.addScore(1),console.log("onePlayerModeActions -> comp.score",u.score),v()):r.x+r.radius>s&&(d.addScore(1),console.log("onePlayerModeActions -> player.score",d.score),v())}(),3!==d.score&&3!==u.score||(3===d.score?A?(console.log("update -> this.computerLevel",u.computerLevel),A=!1,B=!0,x()):B?(console.log("update -> this.computerLevel",u.computerLevel),B=!1,b=!0,x()):b&&(console.log("update -> this.computerLevel",u.computerLevel),A=!0,x(),k=!0,P=!1,F(),L=!0):(A=!0,P=!0,k=!1,F(),L=!0),x())}if(Y){if(C)return;!function(){r.Move(),d.keyMove(),a.keyMove();let t=r.x<s/2?d:a;if(m(r,t)){y.play();let e=(r.y-(t.y+t.height/2))/(t.height/2)*Math.PI/4,i=r.x<s/2?1:-1;angleChangeFromHit(e,i),r.speedAddAfterHit(.4)}r.x-r.radius<0?(a.addScore(1),console.log("onePlayerModeActions -> comp.score",a.score),v()):r.x+r.radius>s&&(d.addScore(1),console.log("onePlayerModeActions -> player.score",d.score),v())}(),3!==d.score&&3!==a.score||(3===d.score?(M=!0,S=!1):(S=!0,M=!1),d.score=0,a.setScore(0),I(),L=!0)}E?(f.play(),g="Off"):(f.pause(),g="On"),w?(y.volume=.2,p="Off"):(y.volume=0,p="On")})(),O&&(e.font="60px fantasy",J(0,0,t.width,t.height,"black"),J(d.x,d.y,d.width,d.height,d.color),J(u.x,u.y,u.width,u.height,u.color),U(d.score,t.width/4,t.height/6,"white"),U(u.score,3*t.width/4,t.height/6,"white"),e.font="30px fantasy",A?U("Lvl 1",2*t.width/4,t.height/6,"white"):B?U("Lvl_2",2*t.width/4,t.height/6,"white"):b&&U("Lvl_3",2*t.width/4,t.height/6,"white"),Q(r.x,r.y,r.radius,r.color),C&&(e.font="40px fantasy",U("Pause",t.width/10*4,t.height/12*6,"white"),U("Back to Menu",t.width/10*4,t.height/12*7,"white"))),Y&&(console.log("2 player Draw"),e.font="60px fantasy",J(0,0,t.width,t.height,"black"),J(d.x,d.y,d.width,d.height,d.color),J(a.x,a.y,a.width,a.height,a.color),U(d.score,t.width/4,t.height/6,"white"),U(a.score,3*t.width/4,t.height/6,"white"),Q(r.x,r.y,r.radius,r.color),C&&(e.font="40px fantasy",U("Pause",t.width/10*4,t.height/12*6,"white"),U("Back to Menu",t.width/10*4,t.height/12*7,"white"))),T&&(e.font="30px fantasy",J(0,0,t.width,t.height,"black"),U("Music "+g,t.width/10*4,t.height/12*4,"white"),U("Sound "+p,t.width/10*4,t.height/12*5,"white"),U("Back to menu",t.width/10*4,t.height/12*6,"white"),U("1 player control : Mouse",t.width/10*4,t.height/12*7,"white"),U("2 player control : W(up) | S(down) ",t.width/10*4,t.height/12*8,"white"),U("8(up) | 2(down)",t.width/10*6.6,t.height/12*9,"white"),U("P for pause",t.width/10*4,t.height/12*10,"white")),X&&(e.font="30px fantasy",J(0,0,t.width,t.height,"black"),U("One player",t.width/10*4,t.height/12*4,"white"),U("Two players local",t.width/10*4,t.height/12*5,"white"),U("Multiplayer",t.width/10*4,t.height/12*6,"white"),U("Options",t.width/10*4,t.height/12*7,"white")),L&&(e.font="30px fantasy",J(0,0,t.width,t.height,"black"),U("Go to menu",t.width/10*4,t.height/12*6,"white"),P&&U("Computer Won",t.width/10*4,t.height/12*5,"white"),k&&U("Player Won",t.width/10*4,t.height/12*5,"white"),M&&U("Left Player Won",t.width/10*4,t.height/12*5,"white"),S&&U("Right Player Won",t.width/10*4,t.height/12*5,"white")),requestAnimationFrame(i)})),t.addEventListener("mousemove",N),t.addEventListener("mousedown",z),window.addEventListener("keydown",_),window.addEventListener("keyup",G),window.addEventListener("keydown",j)}})()})();